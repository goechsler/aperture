<html>
<head>
  <title>Aperture</title>
  <style>
body {
  width: 100%;
  height: 100%;
  #overflow: hidden;
  background-color: white;
  font: lighter 1em system-ui;
}

</style>
</head>
<body>
<div id=doc">
  <div><input type="range" min="0" max="64" step="1" value="16" id="angle" style="width:90%" /></div>
<div>
  <input type="checkbox" id="transparent" name="transparent">
<label for="transparent"> transparent</label>
</div>
  <svg
     xmlns:dc="http://purl.org/dc/elements/1.1/"
     xmlns:cc="http://creativecommons.org/ns#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:svg="http://www.w3.org/2000/svg"
     xmlns="http://www.w3.org/2000/svg"
     width="80%"
     height="80%"
     viewBox="0 0 128.39837 127.86713"
     version="1.1"
     id="svg8">
    <path
       transform="scale(1,-1)"
       d="m 64.198945,-33.933788 -25.980803,-45.000068 51.961603,-2e-6 z"
       id="path883"
       style="opacity:1;fill:#ffffff;fill-opacity:0.98550726;stroke:none;stroke-width:0.33030739;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       id="blade1"
       d="m 91.671922,15.885852 c -10.280737,0.01104 -20.127166,5.338267 -25.638228,14.45183 L 41.843957,18.370455 36.822559,21.071582 v 31.170189 l 2.462382,0.332798 c 4.278895,-9.368649 13.685845,-15.903532 24.632605,-16.014012 0.09336,0.01016 0.187203,0.01535 0.28112,0.0155 1.070186,-2.65e-4 2.034526,-0.646078 2.442225,-1.635559 L 119.17205,57.913776 C 125.8105,42.733522 118.88645,25.045362 103.70633,18.406628 99.784118,16.691329 95.694821,15.88153 91.671922,15.885852 Z M 64.198666,32.350481 a 1.5838064,1.5838064 0 0 1 1.58388,1.583364 h -1.58388 l 1.119309,1.119312 a 1.5838064,1.5838064 0 0 1 -1.119309,0.464572 1.5838064,1.5838064 0 0 1 -1.583368,-1.583884 1.5838064,1.5838064 0 0 1 1.583368,-1.583364 z M 36.822559,62.287153 v 1.646412 c 5e-6,-0.550717 0.01805,-1.097033 0.05013,-1.639694 z"
       style="opacity:1;fill:#808080;fill-opacity:0.99607843;stroke:none;stroke-width:0.26499999;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="opacity:1;fill:#808080;fill-opacity:0.99607843;stroke:none;stroke-width:0.26499999;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="M 8.8514901,64.165317 C 14.001423,73.063174 23.538148,78.92682 34.186256,79.142759 l 1.730946,26.932541 4.849944,2.9981 26.994168,-15.585102 -0.94297,-2.298882 C 56.565404,92.168107 46.202556,87.28889 40.633499,77.863958 40.59562,77.778026 40.55319,77.69416 40.506362,77.612752 39.97104,76.686074 38.929579,76.173838 37.868814,76.315501 L 31.498677,19.335545 C 15.03296,21.176601 3.1765971,36.01709 5.0173431,52.482828 c 0.475613,4.254382 1.818957,8.200719 3.834147,11.682489 z M 36.846905,79.72554 a 1.5838064,1.5838064 0 0 1 0.579294,-2.163364 l 0.791941,1.371681 0.409698,-1.529006 a 1.5838064,1.5838064 0 0 1 0.961984,0.737064 1.5838064,1.5838064 0 0 1 -0.579999,2.163178 1.5838064,1.5838064 0 0 1 -2.162918,-0.579553 z m 39.613969,8.740065 1.42584,-0.823204 c -0.47694,0.275355 -0.95909,0.532885 -1.44508,0.776435 z"
       id="blade3" />
    <path
       id="blade2"
       d="m 92.073144,111.75039 c 5.1308,-8.9089 5.4405,-20.099767 0.30346,-29.429267 L 114.8354,67.355808 115.00686,61.656585 88.012674,46.07149 l -1.51941,1.966081 c 5.97404,8.389962 6.92994,19.804061 1.55224,29.339474 -0.0555,0.07581 -0.10689,0.154445 -0.15398,0.235707 -0.53487,0.926944 -0.45774,2.084994 0.19533,2.932805 L 41.925827,114.55223 c 9.827259,13.3392 28.607681,16.18687 41.947057,6.35987 3.4466,-2.53909 6.19255,-5.67562 8.20026,-9.16171 z m -0.52216,-32.024849 a 1.5838064,1.5838064 0 0 1 -2.16318,0.579998 l 0.79194,-1.371681 -1.529,0.409695 a 1.5838064,1.5838064 0 0 1 0.15732,-1.201636 1.5838064,1.5838064 0 0 1 2.16337,-0.579297 1.5838064,1.5838064 0 0 1 0.57955,2.162921 z M 79.313116,41.048797 77.887278,40.225589 c 0.476937,0.27536 0.941063,0.564108 1.394966,0.863235 z"
       style="opacity:1;fill:#808080;fill-opacity:0.99607843;stroke:none;stroke-width:0.26499999;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="opacity:1;fill:none;fill-opacity:0.99607843;stroke:none;stroke-width:0.26499999;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="M 64.198666,33.933845 Z"
       id="axle1" />
    <path
       style="opacity:1;fill:none;fill-opacity:0.99607843;stroke:none;stroke-width:0.26499999;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="M 90.179744,78.933858 Z"
       id="axle2" />
    <path
       id="axle3"
       d="M 38.21814,78.933857 Z"
       style="opacity:1;fill:none;fill-opacity:0.99607843;stroke:none;stroke-width:0.26499999;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       id="stone"
       d="M 0,5.0943529e-6 V 127.86713 H 128.39836 V 5.0943529e-6 Z M 64.199181,36.556946 A 27.376569,27.376569 0 0 1 91.575805,63.933571 27.376569,27.376569 0 0 1 64.199181,91.310193 27.376569,27.376569 0 0 1 36.822559,63.933571 27.376569,27.376569 0 0 1 64.199181,36.556946 Z"
       style="opacity:1;fill:#808080;fill-opacity:1;stroke:none;stroke-width:1.03453803;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
      </svg>
</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.0.16/svg.min.js" integrity="sha512-p3Tp2zn+wApBreZCgRkmMwnfpN8MUPXzzOihXx7iGYXqE7t6m9drY8HeyMeeFuDWiTFKrGUrq3jpbT0vX6zY/Q==" crossorigin="anonymous"></script>
<script>function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var defaults={addCSS:!0,thumbWidth:15,watch:!0};function matches(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function trigger(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var getConstructor=function(e){return null!=e?e.constructor:null},instanceOf=function(e,t){return!!(e&&t&&e instanceof t)},isNullOrUndefined=function(e){return null==e},isObject=function(e){return getConstructor(e)===Object},isNumber=function(e){return getConstructor(e)===Number&&!Number.isNaN(e)},isString=function(e){return getConstructor(e)===String},isBoolean=function(e){return getConstructor(e)===Boolean},isFunction=function(e){return getConstructor(e)===Function},isArray=function(e){return Array.isArray(e)},isNodeList=function(e){return instanceOf(e,NodeList)},isElement=function(e){return instanceOf(e,Element)},isEvent=function(e){return instanceOf(e,Event)},isEmpty=function(e){return isNullOrUndefined(e)||(isString(e)||isArray(e)||isNodeList(e))&&!e.length||isObject(e)&&!Object.keys(e).length},is={nullOrUndefined:isNullOrUndefined,object:isObject,number:isNumber,string:isString,boolean:isBoolean,function:isFunction,array:isArray,nodeList:isNodeList,element:isElement,event:isEvent,empty:isEmpty};function getDecimalPlaces(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function round(e,t){if(1>t){var n=getDecimalPlaces(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var RangeTouch=function(){function e(t,n){_classCallCheck(this,e),is.element(t)?this.element=t:is.string(t)&&(this.element=document.querySelector(t)),is.element(this.element)&&is.empty(this.element.rangeTouch)&&(this.config=_objectSpread2({},defaults,{},n),this.init())}return _createClass(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!is.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,u=parseFloat(r.getAttribute("step"))||1,c=r.getBoundingClientRect(),a=100/c.width*(this.config.thumbWidth/2)/100;return 0>(n=100/c.width*(i.clientX-c.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*a:50<n&&(n+=2*(n-50)*a),o+round(n/100*(s-o),u)}},{key:"set",value:function(t){e.enabled&&is.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),trigger(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(is.empty(t)||is.string(t)?r=Array.from(document.querySelectorAll(is.string(t)?t:'input[type="range"]')):is.element(t)?r=[t]:is.nodeList(t)?r=Array.from(t):is.array(t)&&(r=t.filter(is.element)),is.empty(r))return null;var i=_objectSpread2({},defaults,{},n);if(is.string(t)&&i.watch){var o=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){is.element(n)&&matches(n,t)&&new e(n,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();export default RangeTouch;</script>
<script>

(function(){
  var blades = [SVG("#blade1"), SVG("#blade2"), SVG("#blade3")];
  var stone = SVG("#stone");
  var axles = [[64.198666,33.933845], [90.179744,78.933858], [38.21814,78.933857]];
  var angle = document.getElementById("angle");

  var angleChange = function() {
    for (let index = 0; index < blades.length; index++) {
      blades[index].transform({
        rotate: angle.value,
        origin: axles[index]
      });
    }
  }
  angleChange();

  // angle.addEventListener("change", angleChange);
  // angle.addEventListener("mousemove", angleChange);
  angle.addEventListener("input", angleChange);

  document.getElementById("transparent").addEventListener("change", function(){
    stone.css("fill-opacity", this.checked?.5:1);
  });


})();
</script>
</html>